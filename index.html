<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <!-- Let browser know website is optimized for mobile -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://kit.fontawesome.com/cb8aa7842a.js" crossorigin="anonymous"></script>
  <title>Team 8 | Project 1</title>

</head>

<body id="home" class="scrollspy">
  <!-- nav bar -->
  <div class="navbar-fixed">
    <nav class="red">
      <div class="container">
        <div class="nav-wrapper">
          <a href="#" class="brand-logo hide-on-med-and-down show-on-extra-large show-on-large">Lockdown Food Delivery</a>
          <a href="#" class="brand-logo show-on-medium-and-down hide-on-large-only hide-on-extra-large-only">Lockdown Food Delivery</a>
          <a href="#" data-target="mobile-nav" class="sidenav-trigger">
            <i class="material-icons">menu</i>
          </a>
          <ul class="right hide-on-med-and-down">
            <li>
              <a href="#home">Home</a>
            </li>
            <li>
              <a href="#search">Search</a>
            </li>
            <li>
              <a href="#popular">Popular Places</a>
            </li>
            <li>
              <a href="#contact">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
  <ul class="sidenav" id="mobile-nav">
    <li>
      <a href="#home">Home</a>
    </li>
    <li>
      <a href="#search">Search</a>
    </li>
    <li>
      <a href="#popular">Popular Places</a>
    </li>
    <li>
      <a href="#contact">Contact</a>
    </li>
  </ul>
  <section class="slider">
    <div class="slider">
      <ul class="slides">
        <li>
          <img src="assets/burger.jpg"> <!-- random image -->
          <div class="caption center-align">
            <h3>Juicy Burgers</h3>
            <h5 class="light grey-text text-lighten-3 hide-on-small-only">Hello.</h5>
          </div>
        </li>
        <li>
          <img src="assets/deepdish-large.jpg"> <!-- random image -->
          <div class="caption left-align">
            <h3>Chicago-style Deep Dish</h3>
            <h5 class="light grey-text text-lighten-3 hide-on-small-only">Hello.</h5>
          </div>
        </li>
        <li>
          <img src="assets/tacos-large.jpg"> <!-- random image -->
          <div class="caption right-align">
            <h3>Street Style Tacos</h3>
            <h5 class="light grey-text text-lighten-3 hide-on-small-only">Hello.</h5>
          </div>
        </li>
        <li>
          <img src="assets/Mac.jpg"> <!-- random image -->
          <div class="caption center-align">
            <h3>The ULTIMATE Comfort Food!</h3>
            <h5 class="light grey-text text-lighten-3 hide-on-small-only">Hello.</h5>
          </div>
        </li>
      </ul>
    </div>
  </section>

  <section id="search" class="section section-search yellow darken-2 black-text center scrollspy">
    <div class="container">
      <div class="row">
        <div class="col s12">
          <h3>Search Now!</h3>
          <div class="input-field">
            <input type="text" class="white grey-text autocomplete" id="autocomplete-input"
              placeholder="Pizza, Burgers...etc">
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- section cards -->
  <section class="section section-icons grey lighten-3 center">
    <div class="container">
      <div class="row">
        <div class="col s12 m12">
          <div class="card-panel">
            <i class="material-icons large red-text">
              Food</i>
            <h4>Enter Zip Code</h4>
            <p>Find carry out options nearby</p>
            <div class="row">
              <form class="col s12">
                <div class="row">
                  <div class="input-field col s12">
                    <input placeholder="zip code" id="zip-input" type="text" class="validate">
                    <!-- button trigger AJAX call-->
                    <button id="search-zip" type="submit" class="btn btn-primary">Search</button>
                  </div>
                    <br>
                    <br>
                  <!--simple card for JSON data-->
                <span class="med-font">Zips within 3 miles of you</span>
<br>
<span class="sm-font">(using the same API for 3  calls)</span>
                  <div id="zip-data" class="row">
                    <span class="zip_code"></span>
                    <div class="col s12 m12">
                      <div class="card blue-grey darken-1">
                        <div class="card-content white-text">
                          <span class="card-title"></span>
                        </div>
                      </div>
                    </div>
                  </div>
                    
                    <div id="results" class="row">
                        <div class="col s4">
                            <span class="title">City</span><br>
                            <span class="result city"></span>
                        </div>
                        
                        <div class="col s4">
                            <span class="title">State</span><br>
                            <span class="result state"></span>
                        </div>
                        
                        <div class="col s4">
                            <span class="title">Zip</span><br>
                            <span class="result zip"></span>
                        </div>
                    </div>
                    
                    
                </div>
            </div>
  </section>
<!--
<section class="zip-code">

    <div class=“row”>
      <form class=“col s12">
        <div class=“row”>
          <div class=“input-field col s6">
            <input placeholder=“zipcode” id=“zip-input” type=“text” class=“validate”>
             button trigger AJAX call
            <button id=“search-zip” type=“submit” class=“btn btn-primary”>Search</button>
          </div>
          <div id=“zip-data” class=“row”>
            <div class=“col s12 m6”>
              <div class=“card blue-grey darken-1">
                <div class=“card-content white-text”>
                  <span class=“card-title”></span>
                </div>
              </div>
  </section>
-->

  <!-- recommendations -->
  <section id="popular" class="section scrollspy">
    <div class="container">
      <div class="row">
        <h4 class="center">Recommendations</h4>
        <div class="col s12 m4">
          <div class="card">
            <div class="card-image">
              <img src="assets/tacos-sm.jpg" alt="">
              <span class="card-title">Tacos</span>
            </div>
            <div class="card-content">Lorem ipsum dolor sit amet.
            </div>
          </div>
        </div>
        <div class="col s12 m4">
          <div class="card">
            <div class="card-image">
              <img src="assets/pizza-sm.jpg" alt="">
              <span class="card-title">Pizza</span>
            </div>
            <div class="card-content">Lorem ipsum dolor sit amet.
            </div>
          </div>
        </div>
        <div class="col s12 m4">
          <div class="card">
            <div class="card-image">
              <img src="assets/burgers-sm.jpg" alt="">
              <span class="card-title">Burgers</span>
            </div>
            <div class="card-content">Lorem ipsum dolor sit amet.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- social links -->
  <!-- <section class="section section-follow red darken-3 white-text center">
      <div class="container">
        <div class="row">
          <div class="col s12">
            <h4>Follow Us!</h4>
            <a href="" class="white-text">
              <i class="fab fa-facebook fa-4x"></i>
            </a>
            <a href="" class="white-text">
              <i class="fab fa-twitter fa-4x"></i>
            </a>
            <a href="" class="white-text">
              <i class="fab fa-instagram fa-4x"></i>
            </a>
            <a href="" class="white-text">
              <i class="fab fa-pinterest fa-4x"></i>
            </a>
          </div>
        </div>
      </div>
    </section> -->

  <!-- recommendation -->
  <section id="gallery" class="section section-gallery scrollspy">
    <div class="container">
      <h4 class="center">
        <span class="red">What Are You In The Mood For?</span>
      </h4>
      <div class="row">
        <div class="col s12 m3">
          <img src="assets/veg-sm.jpg" alt="" class="materialboxed responsive-img">
        </div>
        <div class="col s12 m3">
          <img src="assets/veg-sm.jpg" alt="" class="materialboxed responsive-img">
        </div>
        <div class="col s12 m3">
          <img src="assets/veg-sm.jpg" alt="" class="materialboxed responsive-img">
        </div>
        <div class="col s12 m3">
          <img src="assets/veg-sm.jpg" alt="" class="materialboxed responsive-img">
        </div>
      </div>
    </div>
  </section>

  <section id="contact" class="section section-contact scrollspy">
    <div class="container">
      <div class="row">
        <div class="col s12 m6">
          <div class="card-panel red white-text center">
            <i class="material-icons">email</i>
            <h5>Email sign up</h5>
            <p>Sign up for our email list to receive coupons and other exciting offers</p>
          </div>
          <!-- <ul class="collection with-header">
              <li class="collection-header"><h4>email</h4></li>
              <li class="collection-item"><h4>first name</h4></li>
              <li class="collection-item"><h4>last name</h4></li>
              <li class="collection-header"><h4>phone</h4></li>
            
            </ul> -->
        </div>
        <div class="col s12 m6">
          <div class="card-panel gray lighten-2">
            <h5>Please enter your email</h5>
            <div class="input-field">
              <input type="text" placeholder="email">
            </div>
            <input type="submit" value="Submit" class="btn">
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="section red darken-3 white-text center">
    <section class="section section-follow red darken-3 white-text center">
      <div class="container">
        <div class="row">
          <div class="col s12">
            <h4>Follow Us!</h4>
            <a href="" class="white-text">
              <i class="fab fa-facebook fa-4x"></i>
            </a>
            <a href="" class="white-text">
              <i class="fab fa-twitter fa-4x"></i>
            </a>
            <a href="" class="white-text">
              <i class="fab fa-instagram fa-4x"></i>
            </a>
            <a href="" class="white-text">
              <i class="fab fa-pinterest fa-4x"></i>
            </a>
          </div>
        </div>
      </div>
    </section>
  </footer>
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <!-- <script src="js/materialize.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="js/init.js"></script>
  <script>
    const sideNav = document.querySelector('.sidenav');
    M.Sidenav.init(sideNav, {});

    // slider
    const slider = document.querySelector('.slider');
    M.Slider.init(slider, {
      indicators: false,
      height: 500,
      transition: 500,
      interval: 6000,
    })

    // autocomplete
    const autoComp = document.querySelector('.autocomplete');
    M.Autocomplete.init(autoComp, {
      data: {
        "Pizza": null,
        "Mac & Cheese": null,
        "Tacos": null,
        "Hot Dogs": null,
        "Burgers": null,
      }
    });

    const mb = document.querySelectorAll('.materialboxed');
    M.Materialbox.init(mb, {});

    // const scrollSpy = document.querySelectorAll('.scrollspy');
    // M.Scrollspy.init(scrollSpy, {});

    // zip code

    $("#search-zip").on("click", function (event) {
      event.preventDefault();


      var zip = $("#zip-input").val();
      var apikey = "cZikOcr4948UWDEGCGKnI1xKOaUYqRjqzqamybB42vuUkTGMnNA1wZYsFVDpcHcH"
      var queryURL = "https://cors-anywhere.herokuapp.com/" + "https://www.zipcodeapi.com/rest/" + apikey + "/radius.json/" + zip + "/3/miles";
      //var queryURL = "https://www.zipcodeapi.com/rest/" + apikey + "/radius.json/" + zip + "/15/miles"; 

// THIS IS THE SECOND API CALL FOR STATE
        
      $.ajax({
        url: queryURL,
        method: "GET"
      }).then(function (response) {
          
// SET THE VARIABLE
          
          var city =""

// RUN A FOR LOOP TO RETURN MULTIPLE ENTRIES          

          for (i in response.zip_codes){
              city+= "<span style='color:red;'>" + response.zip_codes[i].city + "</span><br>"
          }
//        response = response.zip_codes[0];
//        var result = response.city + " " + response.state + " " + response.zip_code;
//        $("#zip-data").text(result);
          $(".city").html(city);
//        $("#zip-data").text(JSON.stringify(response));
//          $(".zip").text(response.zip_code);
//        $("#zip-data").text(response.distance);
//          $(".city").text(response.city);
//          $(".state").text(response.state);
  
        console.log(queryURL);
        console.log(response);
      })
        
// THIS IS THE SECOND API CALL FOR STATE
        
              $.ajax({
        url: queryURL,
        method: "GET"
      }).then(function (response) {
          var state =""
          for (i in response.zip_codes){
              state+= "<span style='color:green;'>" + response.zip_codes[i].state + "</span><br>"
          }

          $(".state").html(state);

      })
      
// THIS IS THE THIRD API CALL FOR ZIP CODE
        
        
                      $.ajax({
        url: queryURL,
        method: "GET"
      }).then(function (response) {
          var zip =""
          for (i in response.zip_codes){
              zip+= "<span style='color:blue;'>" + response.zip_codes[i].zip_code + "</span><br>"
          }

          $(".zip").html(zip);

      })
        
        
        
      //js zip code api key: js-NZ86iosod6VqJYBLF7B5jGDnRNVv7oRTeq8YQDvHPUMffLWQTZmqYCBNesgaYPwD

      //zip code api key: cZikOcr4948UWDEGCGKnI1xKOaUYqRjqzqamybB42vuUkTGMnNA1wZYsFVDpcHcH

    });
  </script>
</body>

</html>